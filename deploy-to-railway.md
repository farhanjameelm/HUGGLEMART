# ðŸš€ Deploy HugglingMart to Railway

## Step-by-Step Deployment Guide

### 1. ðŸ“‹ Prerequisites
- GitHub account
- Railway account (free): https://railway.app
- Your HugglingMart project ready

### 2. ðŸ”§ Prepare Your Project

#### A. Create GitHub Repository
```bash
# In your project directory
git init
git add .
git commit -m "Initial commit: HugglingMart E-commerce Platform"
git branch -M main
git remote add origin https://github.com/yourusername/hugglingmart.git
git push -u origin main
```

#### B. Files Already Created for You:
- âœ… `railway.json` - Railway configuration
- âœ… `nixpacks.toml` - Build configuration  
- âœ… `composer.json` - PHP dependencies
- âœ… `.env.example` - Environment variables template
- âœ… Updated `config/database.php` - Environment variable support

### 3. ðŸš‚ Deploy to Railway

#### A. Create Railway Project
1. Go to https://railway.app
2. Sign up/Login with GitHub
3. Click "New Project"
4. Select "Deploy from GitHub repo"
5. Choose your HugglingMart repository

#### B. Add MySQL Database
1. In your Railway project dashboard
2. Click "New" â†’ "Database" â†’ "Add MySQL"
3. Wait for database to provision
4. Note the connection details

#### C. Configure Environment Variables
1. Go to your web service settings
2. Click "Variables" tab
3. Add these variables:

```env
DB_HOST=mysql.railway.internal
DB_NAME=railway
DB_USER=root  
DB_PASS=[auto-generated by Railway]
DB_PORT=3306
APP_ENV=production
APP_URL=https://your-app-name.up.railway.app
```

#### D. Import Database Schema
1. Connect to Railway MySQL using provided credentials
2. Import your database schema:

```sql
-- Use Railway's database connection details
-- Import all your tables and data
```

### 4. ðŸŒ Alternative: Deploy to Render

#### A. Create Render Account
1. Go to https://render.com
2. Sign up with GitHub

#### B. Create Web Service
1. Click "New" â†’ "Web Service"
2. Connect GitHub repository
3. Configure:
   - **Build Command**: `composer install`
   - **Start Command**: `php -S 0.0.0.0:$PORT -t .`
   - **Environment**: `PHP`

#### C. Add Database
1. Create PostgreSQL database on Render
2. Get connection string
3. Update environment variables

### 5. ðŸ”§ Environment Configuration

#### Production Environment Variables:
```env
# Database (Railway MySQL)
DB_HOST=mysql.railway.internal
DB_NAME=railway
DB_USER=root
DB_PASS=your-railway-mysql-password
DB_PORT=3306

# Application
APP_NAME=HugglingMart
APP_ENV=production
APP_URL=https://your-domain.up.railway.app

# Security
SESSION_SECURE=true
SESSION_HTTPONLY=true
SESSION_SAMESITE=Strict
```

### 6. ðŸ“Š Database Migration

#### A. Export Local Database
```bash
# Export your local database
mysqldump -u root -p hugglingmart > hugglingmart_backup.sql
```

#### B. Import to Railway
```bash
# Connect to Railway MySQL and import
mysql -h [railway-host] -u root -p[password] railway < hugglingmart_backup.sql
```

### 7. ðŸŽ¯ Post-Deployment Checklist

#### A. Test Core Features:
- âœ… Homepage loads
- âœ… User registration/login
- âœ… Product browsing
- âœ… Add to cart functionality
- âœ… AI bargain bot
- âœ… Checkout process
- âœ… Admin panel

#### B. Configure Domain (Optional):
1. In Railway dashboard
2. Go to Settings â†’ Domains
3. Add custom domain
4. Update DNS records

### 8. ðŸš¨ Common Issues & Solutions

#### Issue: Database Connection Failed
**Solution**: Check environment variables match Railway database credentials

#### Issue: File Upload Errors  
**Solution**: Railway has ephemeral storage, use cloud storage (AWS S3, Cloudinary)

#### Issue: Session Issues
**Solution**: Ensure SESSION_SECURE=true for HTTPS

#### Issue: PHP Version Mismatch
**Solution**: Update `nixpacks.toml` to specify PHP version

### 9. ðŸ”„ Continuous Deployment

Railway automatically deploys when you push to GitHub:
```bash
# Make changes
git add .
git commit -m "Update feature"
git push origin main
# Railway automatically deploys!
```

### 10. ðŸ“ˆ Monitoring & Scaling

#### A. Railway Dashboard:
- View deployment logs
- Monitor resource usage
- Scale up/down as needed

#### B. Performance Optimization:
- Enable PHP OPcache
- Optimize database queries
- Use CDN for static assets

---

## ðŸŽ‰ Your HugglingMart is Now Live!

After deployment, your e-commerce platform will be accessible at:
`https://your-project-name.up.railway.app`

### Features Available:
- âœ… Full e-commerce functionality
- âœ… AI-powered bargaining system
- âœ… Admin dashboard
- âœ… User management
- âœ… Product catalog
- âœ… Shopping cart & checkout
- âœ… Payment processing
- âœ… Order management

### Next Steps:
1. Configure payment gateways (Stripe, PayPal)
2. Set up email notifications
3. Add SSL certificate (automatic on Railway)
4. Configure custom domain
5. Set up monitoring and backups
